services:
  edirom-online-backend:
    container_name: eXist-db
    build:
      # location and name of backend Dockerfile
      context: ./backend   
      dockerfile: Dockerfile
      args:
        #SOURCE: ${BE_SOURCE:-https://github.com/Edirom/Edirom-Online-Backend/releases/download/v1.0.1/Edirom-Online-Backend-1.0.1.xar}
        SOURCE: ${BE_SOURCE:-https://github.com/Edirom/Edirom-Online-Backend.git}
        BRANCH: ${BE_BRANCH:-develop}
        EDITION: ${EDITION_XAR}
    ports:
      # expose eXist-db
      - "8080:8080"
  edirom-online-frontend:
    container_name: nginx
    build:
      # location and name of frontend
      context: ./frontend
      dockerfile: Dockerfile
      args:
        SOURCE: ${FE_SOURCE:-https://github.com/Edirom/Edirom-Online-Frontend/releases/download/v1.0.1/Edirom-Online-Frontend-1.0.1.xar}
        # SOURCE: ${FE_SOURCE:-https://github.com/Edirom/Edirom-Online-Frontend.git}
        BRANCH: ${FE_BRANCH:-develop}
    ports:
      # expose nginx
      - "8089:80"